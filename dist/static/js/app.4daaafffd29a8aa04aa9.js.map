{"version":3,"sources":["webpack:///./src/assets/prototype-logo.svg","webpack:///./src/App.vue?60ad","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/components/JoinInsert.vue?325c","webpack:///./src/components/JoinInsert.vue","webpack:///src/components/JoinInsert.vue","webpack:///src/components/Welcome.vue","webpack:///./src/components/Welcome.vue?7268","webpack:///./src/components/Welcome.vue","webpack:///src/components/Join.vue","webpack:///./src/components/Join.vue?56c3","webpack:///./src/components/Join.vue","webpack:///./src/encoding.js","webpack:///src/components/CreatingBulletinElement.vue","webpack:///./src/components/CreatingBulletinElement.vue?4a90","webpack:///./src/components/CreatingBulletinElement.vue","webpack:///src/components/AccompanimentMaker.vue","webpack:///./src/components/AccompanimentMaker.vue?3fa5","webpack:///./src/components/RoomConfirmRenderer.vue?63cc","webpack:///src/components/Create.vue","webpack:///./src/components/AccompanimentMaker.vue","webpack:///./src/components/RoomConfirmRenderer.vue","webpack:///src/components/RoomConfirmRenderer.vue","webpack:///./src/components/Create.vue?b8a1","webpack:///./src/components/Create.vue","webpack:///./src/binaryRequests.js","webpack:///./src/audio.js","webpack:///src/components/Sing.vue","webpack:///./src/components/Sing.vue?bf4f","webpack:///./src/components/Sing.vue","webpack:///src/components/Calibrate.vue","webpack:///./src/components/Calibrate.vue?6677","webpack:///./src/components/Calibrate.vue","webpack:///src/components/About.vue","webpack:///./src/components/About.vue?d25b","webpack:///./src/components/About.vue","webpack:///src/components/Contributing.vue","webpack:///./src/components/Contributing.vue?dc6d","webpack:///./src/components/Contributing.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["module","exports","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticStyle","position","top","bottom","left","right","_v","staticClass","height","absolute","to","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","components_JoinInsert","_vm","align","label","type","model","value","callback","$$v","roomId","expression","large","on","click","$event","$emit","color","src_components_JoinInsert","JoinInsert_normalizeComponent","data","$route","params","hasOwnProperty","prefill","Welcome","components","JoinInsert","msg","joinDialogShown","methods","join","$router","push","encodeURIComponent","components_Welcome","fluid","src","width","scopedSlots","_u","key","fn","ref","_g","_b","submit","cancel","src_components_Welcome","Welcome_normalizeComponent","Join","components_Join","justify","cols","sm","md","src_components_Join","Join_normalizeComponent","INT","BYTES","STRING","BOOL","ARRAY","DICT","SIGNED_INT","AppendableUint8Array","classCallCheck_default","underlying","Uint8Array","length","newUnderlying","subarray","set","x","extend","array","slice","encodeInt","n","appendable","appendInt","consumeInt","index","result","factor","encodeBytes","appendArray","consumeBytes","_consumeInt3","_consumeInt4","slicedToArray_default","enc","TextEncoder","dec","TextDecoder","encodeString","string","encode","consumeString","bytes","_consumeBytes","_consumeBytes2","decode","encodeBool","bool","consumeBool","encodeAny","object","Math","abs","encodeSignedInt","ArrayBuffer","Array","i","encodeArray","Object","dict","nKeys","encodeDict","consumeAny","item","_consumeInt5","_consumeInt6","_consumeAny","_consumeAny2","consumeArray","_consumeInt7","_consumeInt8","_consumeString","_consumeString2","_consumeAny3","_consumeAny4","consumeDict","sign","_consumeBool","_consumeBool2","_consumeInt","_consumeInt2","consumeSignedInt","Error","encoding","extract","_consumeAny5","_consumeAny6","CreatingBulletinElement","props","watch","processAccompaniment","file","_this","arrayBuffer","then","buffer","accompaniment","title","components_CreatingBulletinElement","display","prepend-icon","hide-input","change","_s","$set","AccompanimentMaker","credits","timeRange","repeatRange","fullDuration","audioData","audioSrc","previewing","hasFile","fileFormat","processFile","console","log","fileName","substr","indexOf","Int8Array","format","time","map","repeat","audio","URL","createObjectURL","Blob","context","decodeAudioData","audioBuffer","duration","togglePreview","_this2","previewSource","stop","decodeAudiOData","sourceNode","createBufferSource","loop","loopStart","loopEnd","connect","destination","start","record","alert","download","resultBuffer","round","blobURL","link","document","createElement","href","body","appendChild","dispatchEvent","MouseEvent","bubbles","cancelable","view","window","removeChild","components_AccompanimentMaker","controls","thumb-label","step","min","max","end","reclip","_e","components_RoomConfirmRenderer","room","password","expiration","disabled","_l","description","Create","CreatingBulletinElement_normalizeComponent","AccompanimentMaker_normalizeComponent","RoomConfirmRenderer","RoomConfirmRenderer_normalizeComponent","date","viewing","drawer","canCreate","bulletin","Date","toISOString","substring","finishConfirmShown","cancelConfirmShown","addSection","components_Create","app","dense","stopPropagation","max-width","finish","dark","close-on-content-click","transition","offset-y","min-width","readonly","no-title","scrollable","text","menu","$refs","save","src_components_Create","Create_normalizeComponent","formatQs","binaryRequests","get","url","q","XMLHttpRequest","open","responseType","promise_default","a","resolve","reject","addEventListener","response","send","post","qsData","postData","mediaStream","getMediaStream","navigator","mediaDevices","getUserMedia","video","stream","recordMedia","clone","mediaRecorder","MediaRecorder","mimeType","e","size","Response","playAudioBuffer","bufferSource","currentTime","createOscillatorBuffer","createBuffer","sampleRate","channel","numberOfChannels","currentChannel","getChannelData","sin","PI","recordAtTime","startTime","endTime","timeCheck","recorder","all","setTimeout","measureLatency","supposedTime","_ref","_ref2","offset","_ref3","_ref4","channelData","maximum","apply","minimum","thresh","startIndex","endIndex","Sing","users","decodeURIComponent","user","roomSinging","schedulers","songs","advanceMessage","userId","advance","singing","room_id","created","user_id","heartbeat","scheduleNext","parity","song","range","$store","state","latency","components_Sing","light","flat","domProps","textContent","src_components_Sing","Sing_normalizeComponent","Calibrate","measurements","finished","calibrate","p","commit","sort","components_Calibrate","toPrecision","src_components_Calibrate","Calibrate_normalizeComponent","About","components_About","text-align","src_components_About","About_normalizeComponent","Contributing","components_Contributing","src_components_Contributing","Contributing_normalizeComponent","Vue","use","Router","AudioContext","router","routes","path","component","Vuex","store","Store","mutations","setLatency","actions","getters","Vuetify","config","productionTip","el","vuetify","h","App"],"mappings":"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","file":"static/js/app.4daaafffd29a8aa04aa9.js","sourcesContent":["module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KIDxnPgogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4KICA8cmVjdCB4PSItMSIgeT0iLTEiIHdpZHRoPSIxNTIiIGhlaWdodD0iMTUyIiBpZD0iY2FudmFzX2JhY2tncm91bmQiIGZpbGw9Im5vbmUiLz4KIDwvZz4KCiA8Zz4KICA8dGl0bGU+TGF5ZXIgMTwvdGl0bGU+CiAgPHJlY3Qgc3Ryb2tlLXdpZHRoPSIwLjMiIGZpbGw9ImJsYWNrIiB4PSI2MC42Mzg2NzUiIHk9IjEwMyIgd2lkdGg9IjE1LjUiIGhlaWdodD0iMC41IiBpZD0ic3ZnXzMzIiBzdHJva2U9ImJsYWNrIi8+CiAgPGcgY2xhc3M9InZmLXN0YXZlbm90ZSIgaWQ9InN2Z18zNCI+CiAgIDxnIGNsYXNzPSJ2Zi1ub3RlIiBpZD0ic3ZnXzM1Ij4KICAgIDxnIGNsYXNzPSJ2Zi1zdGVtIiBpZD0ic3ZnXzM2Ij4KICAgICA8cGF0aCBzdHJva2Utd2lkdGg9IjEuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgZD0ibTczLjYzODY3LDEwMWwwLC02NyIgaWQ9InN2Z18zNyIvPgogICAgPC9nPgogICAgPGcgY2xhc3M9InZmLW5vdGVoZWFkIiBpZD0ic3ZnXzM4IiBzdHJva2U9Im51bGwiPgogICAgIDxyZWN0IHN0cm9rZS13aWR0aD0iMC4zIiBmaWxsPSJibGFjayIgeD0iNjAuNjM4Njc1IiB5PSIxMDMiIHdpZHRoPSIxNS41IiBoZWlnaHQ9IjAuNSIgaWQ9InN2Z18zOSIgc3Ryb2tlPSJibGFjayIvPgogICAgIDxwYXRoIHN0cm9rZS13aWR0aD0iMC4zIiBmaWxsPSJibGFjayIgZD0ibTYzLjYzODY3LDEwM202LjYwMjQsLTQuNjg3MmMwLjEwMDgsMCAwLjI1MiwwIDAuMjc3MiwwYzAsMCAwLjAyNTIxLDAgMC4wMjUyMSwwYzAsMCAwLjE1MTE5LDAgMC4yNzcxOSwwYzIuMjY4LDAuMTI2IDMuNjAzNiwxLjYxMjggMy42MDM2LDMuNDc3NmMwLDAuOTA3MiAtMC4zMDI0LDEuOTQwNCAtMS4wNTg0LDIuOTIzMmMtMS40MzY0LDEuOTQwNCAtMy43OCwyLjk5ODggLTUuODIxMiwyLjk5ODhjLTEuNTg3NiwwIC0yLjk0ODQsLTAuNjMgLTMuNjAzNiwtMS45MTUyYy0wLjIwMTYsLTAuNTA0IC0wLjMwMjQsLTAuOTgyOCAtMC4zMDI0LC0xLjUxMmMwLC0yLjc0NjggMy4wNzQ0MSwtNS43OTYgNi42MDI0LC01Ljk3MjQiIGlkPSJzdmdfNDAiLz4KICAgIDwvZz4KICAgIDxnIGNsYXNzPSJ2Zi1ub3RlaGVhZCIgaWQ9InN2Z180MSI+CiAgICAgPHBhdGggc3Ryb2tlLXdpZHRoPSIwLjMiIGZpbGw9ImJsYWNrIiBkPSJtNjMuNjM4NjcsOTNtNi42MDI0LC00LjY4NzJjMC4xMDA4LDAgMC4yNTIsMCAwLjI3NzIsMGMwLDAgMC4wMjUyMSwwIDAuMDI1MjEsMGMwLDAgMC4xNTExOSwwIDAuMjc3MTksMGMyLjI2OCwwLjEyNiAzLjYwMzYsMS42MTI4IDMuNjAzNiwzLjQ3NzZjMCwwLjkwNzIgLTAuMzAyNCwxLjk0MDQgLTEuMDU4NCwyLjkyMzJjLTEuNDM2NCwxLjk0MDQgLTMuNzgsMi45OTg4IC01LjgyMTIsMi45OTg4Yy0xLjU4NzYsMCAtMi45NDg0LC0wLjYzIC0zLjYwMzYsLTEuOTE1MmMtMC4yMDE2LC0wLjUwNCAtMC4zMDI0LC0wLjk4MjggLTAuMzAyNCwtMS41MTJjMCwtMi43NDY4IDMuMDc0NDEsLTUuNzk2IDYuNjAyNCwtNS45NzI0IiBpZD0ic3ZnXzQyIi8+CiAgICA8L2c+CiAgICA8ZyBjbGFzcz0idmYtbm90ZWhlYWQiIGlkPSJzdmdfNDMiPgogICAgIDxwYXRoIHN0cm9rZS13aWR0aD0iMC4zIiBmaWxsPSJibGFjayIgZD0ibTYzLjYzODY3LDgzbTYuNjAyNCwtNC42ODcyYzAuMTAwOCwwIDAuMjUyLDAgMC4yNzcyLDBjMCwwIDAuMDI1MjEsMCAwLjAyNTIxLDBjMCwwIDAuMTUxMTksMCAwLjI3NzE5LDBjMi4yNjgsMC4xMjYgMy42MDM2LDEuNjEyOCAzLjYwMzYsMy40Nzc2YzAsMC45MDcyIC0wLjMwMjQsMS45NDA0IC0xLjA1ODQsMi45MjMyYy0xLjQzNjQsMS45NDA0IC0zLjc4LDIuOTk4OCAtNS44MjEyLDIuOTk4OGMtMS41ODc2LDAgLTIuOTQ4NCwtMC42MyAtMy42MDM2LC0xLjkxNTJjLTAuMjAxNiwtMC41MDQgLTAuMzAyNCwtMC45ODI4IC0wLjMwMjQsLTEuNTEyYzAsLTIuNzQ2OCAzLjA3NDQxLC01Ljc5NiA2LjYwMjQsLTUuOTcyNCIgaWQ9InN2Z180NCIvPgogICAgPC9nPgogICAgPGcgY2xhc3M9InZmLW5vdGVoZWFkIiBpZD0ic3ZnXzQ1Ij4KICAgICA8cGF0aCBzdHJva2Utd2lkdGg9IjAuMyIgZmlsbD0iYmxhY2siIGQ9Im02My42Mzg2Nyw2OG02LjYwMjQsLTQuNjg3MmMwLjEwMDgsMCAwLjI1MiwwIDAuMjc3MiwwYzAsMCAwLjAyNTIxLDAgMC4wMjUyMSwwYzAsMCAwLjE1MTE5LDAgMC4yNzcxOSwwYzIuMjY4LDAuMTI2IDMuNjAzNiwxLjYxMjggMy42MDM2LDMuNDc3NmMwLDAuOTA3MiAtMC4zMDI0LDEuOTQwNCAtMS4wNTg0LDIuOTIzMmMtMS40MzY0LDEuOTQwNCAtMy43OCwyLjk5ODggLTUuODIxMiwyLjk5ODhjLTEuNTg3NiwwIC0yLjk0ODQsLTAuNjMgLTMuNjAzNiwtMS45MTUyYy0wLjIwMTYsLTAuNTA0IC0wLjMwMjQsLTAuOTgyOCAtMC4zMDI0LC0xLjUxMmMwLC0yLjc0NjggMy4wNzQ0MSwtNS43OTYgNi42MDI0LC01Ljk3MjQiIGlkPSJzdmdfNDYiLz4KICAgIDwvZz4KICAgPC9nPgogICA8ZyBjbGFzcz0idmYtbW9kaWZpZXJzIiBpZD0ic3ZnXzQ3Ii8+CiAgPC9nPgogIDxyZWN0IHN0cm9rZS13aWR0aD0iMC4zIiBmaWxsPSJibGFjayIgc3Ryb2tlPSJibGFjayIgeD0iNjEuMjI1NzU5IiB5PSI5Mi4wNDEwOTYiIHdpZHRoPSIxNS41IiBoZWlnaHQ9IjAuNSIgaWQ9InN2Z181MSIvPgogIDxyZWN0IHN0cm9rZS13aWR0aD0iMC4zIiBmaWxsPSJibGFjayIgc3Ryb2tlPSJibGFjayIgeD0iNjEuMjI1NzU5IiB5PSI1MiIgd2lkdGg9IjE1LjUiIGhlaWdodD0iMC41IiBpZD0ic3ZnXzUyIi8+CiAgPHJlY3Qgc3Ryb2tlLXdpZHRoPSIwLjMiIGZpbGw9ImJsYWNrIiBzdHJva2U9ImJsYWNrIiB4PSI0NSIgeT0iNzIiIHdpZHRoPSI1MCIgaGVpZ2h0PSIwLjUiIGlkPSJzdmdfNTMiLz4KICA8cmVjdCBzdHJva2Utd2lkdGg9IjAuMyIgZmlsbD0iYmxhY2siIHN0cm9rZT0iYmxhY2siIHg9IjQ1IiB5PSI2MiIgd2lkdGg9IjUwIiBoZWlnaHQ9IjAuNSIgaWQ9InN2Z181NCIvPgogIDxyZWN0IHN0cm9rZS13aWR0aD0iMC4zIiBmaWxsPSJibGFjayIgc3Ryb2tlPSJibGFjayIgeD0iNjEuMjI1NzU5IiB5PSI4MiIgd2lkdGg9IjE1LjUiIGhlaWdodD0iMC41IiBpZD0ic3ZnXzEiLz4KIDwvZz4KPC9zdmc+\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/prototype-logo.svg\n// module id = FUWc\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"inspire\"}},[_c('v-main',{staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"bottom\":\"32px\",\"left\":\"0\",\"right\":\"0\"}},[_c('router-view')],1),_vm._v(\" \"),_c('v-footer',{staticClass:\"justify-center\",staticStyle:{\"height\":\"32px\"},attrs:{\"absolute\":\"\"}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Sing Together Again\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"ml-5 mr-5\",attrs:{\"to\":\"/about\"}},[_vm._v(\"About\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/contributing\"}},[_vm._v(\"Contribute\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b5e70a4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b5e70a4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b5e70a4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <v-app id=\"inspire\">\n    <v-main style=\"position:absolute; top:0; bottom: 32px; left: 0; right: 0\">\n      <router-view/>\n    </v-main>\n\n    <v-footer absolute style=\"height:32px\" class=\"justify-center\">\n      <router-link to=\"/\">Sing Together Again</router-link>\n      <router-link to=\"/about\" class=\"ml-5 mr-5\">About</router-link>\n      <router-link to=\"/contributing\">Contribute</router-link>\n    </v-footer>\n  </v-app>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  text-align: center;\n  position: absolute;\n  top: 0; left: 0; right: 0; bottom: 0;\n}\n\n#header {\n  position: absolute;\n  top: 0; left: 0; right: 0;\n  height: 60px;\n  background: #EEE;\n}\n\n#footer {\n  position: absolute;\n  bottom: 0; left: 0; right: 0;\n  height: 60px;\n  background: #EEE;\n}\n#contents {\n  position: absolute;\n  top: 60px; bottom: 60px;\n  left: 0; right: 0;\n  overflow: auto;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"elevation-12\",attrs:{\"align\":\"center\"}},[_c('v-card-title',{staticClass:\"indigo white--text\"},[_vm._v(\"Join Room\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-card-text',[_c('v-form',[_c('v-text-field',{attrs:{\"label\":\"Room ID\",\"name\":\"Room ID\",\"type\":\"text\"},model:{value:(_vm.roomId),callback:function ($$v) {_vm.roomId=$$v},expression:\"roomId\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"label\":\"Your Name\",\"name\":\"Your Name\",\"type\":\"text\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"justify-center\"},[_c('v-btn',{attrs:{\"large\":\"\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\"Back\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\",\"large\":\"\"},on:{\"click\":function($event){return _vm.$emit('submit', _vm.roomId, _vm.name)}}},[_vm._v(\"Join\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-17657333\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/JoinInsert.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-17657333\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./JoinInsert.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./JoinInsert.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./JoinInsert.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-17657333\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./JoinInsert.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-17657333\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/JoinInsert.vue\n// module id = null\n// module chunks = ","<template>\n  <v-card class=\"elevation-12\" align=\"center\">\n    <v-card-title class=\"indigo white--text\">Join Room</v-card-title>\n\n    <v-spacer></v-spacer>\n\n    <v-card-text>\n      <v-form>\n        <v-text-field\n          label=\"Room ID\"\n          name=\"Room ID\"\n          v-model=\"roomId\"\n          type=\"text\">\n        </v-text-field>\n        <v-text-field\n          label=\"Your Name\"\n          name=\"Your Name\"\n          v-model=\"name\"\n          type=\"text\">\n        </v-text-field>\n      </v-form>\n    </v-card-text>\n\n    <v-card-actions class=\"justify-center\">\n      <v-btn v-on:click=\"$emit('cancel')\" large>Back</v-btn>\n      <v-btn color=\"primary\" v-on:click=\"$emit('submit', roomId, name)\" large>Join</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  name: 'JoinInsert',\n  data () {\n    return {\n      roomId: (this.$route.params.hasOwnProperty('prefill') ? this.$route.params.prefill : ''),\n      name: ''\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/JoinInsert.vue","<template>\n  <v-content>\n    <v-card fluid class=\"mx-auto text-center pb-10\">\n      <div class=\"central-title d-flex justify-center align-center mb-4 pt-10\">\n        <div>\n          <img src=\"@/assets/prototype-logo.svg\"/>\n        </div>\n        <h1 class=\"text--primary ml-2\">\n          Sing Together Again\n        </h1>\n      </div>\n\n      <v-card-text>\n        <h3 class=\"headline\">Sing repeated songs together in harmony online. Everyone hears everyone else's previous repetition.</h3>\n      </v-card-text>\n\n      <v-card-actions class=\"pt-10 pb-10 justify-center\">\n          <v-dialog width=\"500px\" v-model=\"joinDialogShown\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                color=\"primary\"\n                v-bind=\"attrs\"\n                v-on=\"on\"\n                large\n              >\n                Join Room\n              </v-btn>\n            </template>\n            <JoinInsert @submit=\"(roomId, name) => join(roomId, name)\" @cancel=\"joinDialogShown=false\"></JoinInsert>\n        </v-dialog>\n        <v-btn to=\"create\" class=\"ml-5\" large>Create Room</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-content>\n</template>\n\n<script>\nimport JoinInsert from '@/components/JoinInsert'\n\nexport default {\n  name: 'Welcome',\n  components: {JoinInsert},\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js App',\n      joinDialogShown: false\n    }\n  },\n  methods: {\n    join (roomId, name) {\n      this.$router.push(\n        '/calibrate/' + roomId + '/' + encodeURIComponent(name)\n      )\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Welcome.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[_c('v-card',{staticClass:\"mx-auto text-center pb-10\",attrs:{\"fluid\":\"\"}},[_c('div',{staticClass:\"central-title d-flex justify-center align-center mb-4 pt-10\"},[_c('div',[_c('img',{attrs:{\"src\":require(\"@/assets/prototype-logo.svg\")}})]),_vm._v(\" \"),_c('h1',{staticClass:\"text--primary ml-2\"},[_vm._v(\"\\n        Sing Together Again\\n      \")])]),_vm._v(\" \"),_c('v-card-text',[_c('h3',{staticClass:\"headline\"},[_vm._v(\"Sing repeated songs together in harmony online. Everyone hears everyone else's previous repetition.\")])]),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"pt-10 pb-10 justify-center\"},[_c('v-dialog',{attrs:{\"width\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"primary\",\"large\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"\\n              Join Room\\n            \")])]}}]),model:{value:(_vm.joinDialogShown),callback:function ($$v) {_vm.joinDialogShown=$$v},expression:\"joinDialogShown\"}},[_vm._v(\" \"),_c('JoinInsert',{on:{\"submit\":function (roomId, name) { return _vm.join(roomId, name); },\"cancel\":function($event){_vm.joinDialogShown=false}}})],1),_vm._v(\" \"),_c('v-btn',{staticClass:\"ml-5\",attrs:{\"to\":\"create\",\"large\":\"\"}},[_vm._v(\"Create Room\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dfea2e22\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Welcome.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dfea2e22\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Welcome.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Welcome.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Welcome.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dfea2e22\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Welcome.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-dfea2e22\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Welcome.vue\n// module id = null\n// module chunks = ","<template>\n    <v-container\n      class=\"fill-height\"\n      fluid\n    >\n      <v-row\n        align=\"center\"\n        justify=\"center\"\n      >\n        <v-col\n          cols=\"12\"\n          sm=\"8\"\n          md=\"4\"\n        >\n        <JoinInsert @submit=\"(roomId, name) => join(roomId, name)\" @cancel=\"$router.push('/')\"></JoinInsert>\n        </v-col>\n      </v-row>\n    </v-container>\n</template>\n\n<script>\nimport JoinInsert from '@/components/JoinInsert'\n\nexport default {\n  name: 'Welcome',\n  data () {\n    return {\n      roomId: (this.$route.params.hasOwnProperty('prefill') ? this.$route.params.prefill : ''),\n      name: ''\n    }\n  },\n  components: {JoinInsert},\n  methods: {\n    join (roomId, name) {\n      this.$router.push(\n        '/calibrate/' + roomId + '/' + encodeURIComponent(name)\n      )\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Join.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"8\",\"md\":\"4\"}},[_c('JoinInsert',{on:{\"submit\":function (roomId, name) { return _vm.join(roomId, name); },\"cancel\":function($event){return _vm.$router.push('/')}}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f56c9bd\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Join.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f56c9bd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Join.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Join.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Join.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f56c9bd\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Join.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6f56c9bd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Join.vue\n// module id = null\n// module chunks = ","const INT = 0\nconst BYTES = 1\nconst STRING = 2\nconst BOOL = 3\nconst ARRAY = 4\nconst DICT = 5\nconst SIGNED_INT = 6\n\nclass AppendableUint8Array {\n  constructor () {\n    this.underlying = new Uint8Array(1)\n    this.length = 0\n  }\n\n  extend () {\n    const newUnderlying = new Uint8Array(this.underlying.length * 2)\n    newUnderlying.subarray(0, this.underlying.length)\n      .set(this.underlying)\n    this.underlying = newUnderlying\n  }\n\n  appendInt (x) {\n    if (this.length + 1 >= this.underlying.length) {\n      this.extend()\n    }\n    this.underlying[this.length] = x\n    this.length += 1\n  }\n\n  appendArray (array) {\n    while (this.length + array.length >= this.underlying.length) {\n      this.extend()\n    }\n    this.underlying.subarray(this.length, this.length + array.length)\n      .set(array)\n\n    this.length += array.length\n  }\n\n  extract () {\n    return this.underlying.slice(0, this.length)\n  }\n}\n\nfunction encodeInt (n, appendable) {\n  if (n === 0) {\n    appendable.appendInt(0)\n  } else {\n    appendable.appendInt(n % 256)\n    encodeInt(n >> 8, appendable)\n  }\n}\n\nfunction consumeInt (index, array) {\n  let result = 0\n  let factor = 0\n  while (array[index] !== 0) {\n    result = result + (array[index] << 8 * factor)\n    factor += 1\n    index += 1\n  }\n  return [index + 1, result]\n}\n\nfunction encodeSignedInt (n, appendable) {\n  encodeBool(n < 0, appendable)\n  encodeInt(Math.abs(n), appendable)\n}\n\nfunction consumeSignedInt (index, array) {\n  let sign, magnitude;\n  [index, sign] = consumeBool(index, array);\n  [index, magnitude] = consumeInt(index, array)\n\n  return [index, magnitude * (sign ? -1 : 1)]\n}\n\nfunction encodeBytes (array, appendable) {\n  encodeInt(array.length, appendable)\n  appendable.appendArray(array)\n}\n\nfunction consumeBytes (index, array) {\n  let length;\n  [index, length] = consumeInt(index, array)\n  return [index + length, array.subarray(index, index + length)]\n}\n\nconst enc = new TextEncoder('utf-8')\nconst dec = new TextDecoder('utf-8')\n\nfunction encodeString (string, appendable) {\n  return encodeBytes(enc.encode(string), appendable)\n}\n\nfunction consumeString (index, array) {\n  let bytes\n  [index, bytes] = consumeBytes(index, array)\n  return [index, dec.decode(bytes)]\n}\n\nfunction encodeBool (bool, appendable) {\n  if (bool) {\n    appendable.appendInt(1)\n  } else {\n    appendable.appendInt(0)\n  }\n}\n\nfunction consumeBool (index, array) {\n  return [index + 1, array[index] === 1]\n}\n\nfunction encodeArray (array, appendable) {\n  encodeInt(array.length, appendable)\n  for (let i = 0; i < array.length; i++) {\n    encodeAny(array[i], appendable)\n  }\n}\n\nfunction consumeArray (index, array) {\n  let length, item\n  const result = [];\n\n  [index, length] = consumeInt(index, array)\n  for (let i = 0; i < length; i++) {\n    [index, item] = consumeAny(index, array)\n    result.push(item)\n  }\n  return [index, result]\n}\n\nfunction encodeDict (dict, appendable) {\n  // Get number of keys\n  let nKeys = 0\n  for (const key in dict) {\n    if (dict.hasOwnProperty(key)) {\n      nKeys += 1\n    }\n  }\n\n  encodeInt(nKeys, appendable)\n\n  for (const key in dict) {\n    if (dict.hasOwnProperty(key)) {\n      encodeString(key, appendable)\n      encodeAny(dict[key], appendable)\n    }\n  }\n}\n\nfunction consumeDict (index, array) {\n  let nKeys, key, value\n  const result = {};\n\n  [index, nKeys] = consumeInt(index, array)\n  for (let i = 0; i < nKeys; i++) {\n    [index, key] = consumeString(index, array);\n    [index, value] = consumeAny(index, array)\n\n    result[key] = value\n  }\n\n  return [index, result]\n}\n\nfunction encodeAny (object, appendable) {\n  if (typeof object === 'number') {\n    appendable.appendInt(SIGNED_INT)\n    encodeSignedInt(object, appendable)\n  } else if (typeof object === 'string') {\n    appendable.appendInt(STRING)\n    encodeString(object, appendable)\n  } else if (typeof object === 'boolean') {\n    appendable.appendInt(BOOL)\n    encodeBool(object, appendable)\n  } else if (object instanceof ArrayBuffer) {\n    object = new Uint8Array(object)\n    appendable.appendInt(BYTES)\n    encodeBytes(object, appendable)\n  } else if (object instanceof Uint8Array) {\n    appendable.appendInt(BYTES)\n    encodeBytes(object, appendable)\n  } else if (object instanceof Array) {\n    appendable.appendInt(ARRAY)\n    encodeArray(object, appendable)\n  } else if (object instanceof Object) {\n    appendable.appendInt(DICT)\n    encodeDict(object, appendable)\n  }\n}\n\nfunction consumeAny (index, array) {\n  if (array[index] === INT) {\n    return consumeInt(index + 1, array)\n  } else if (array[index] === BYTES) {\n    return consumeBytes(index + 1, array)\n  } else if (array[index] === STRING) {\n    return consumeString(index + 1, array)\n  } else if (array[index] === BOOL) {\n    return consumeBool(index + 1, array)\n  } else if (array[index] === ARRAY) {\n    return consumeArray(index + 1, array)\n  } else if (array[index] === DICT) {\n    return consumeDict(index + 1, array)\n  } else if (array[index] === SIGNED_INT) {\n    return consumeSignedInt(index + 1, array)\n  } else {\n    throw new Error('invalid type ' + array[index])\n  }\n}\n\nfunction encode (dict) {\n  const appendable = new AppendableUint8Array()\n  encodeAny(dict, appendable)\n  return appendable.extract()\n}\n\nfunction decode (array) {\n  let index = 0\n  let result\n\n  [index, result] = consumeAny(index, array)\n\n  return result\n}\n\nexport default {encode, decode}\n\n\n\n// WEBPACK FOOTER //\n// ./src/encoding.js","<template>\n      <v-form>\n        <v-file-input\n            @change=\"(file) => processAccompaniment(file)\"\n            label=\"Upload different accompaniment\"\n            style=\"display: inline-block\"\n            prepend-icon=\"mdi-music-note-plus\"\n            hide-input\n            ></v-file-input>Change accompaniment ({{(value.accompaniment ? value.accompaniment.name : 'None')}})\n          <v-text-field\n            v-model=\"value.title\"\n            label=\"Section Title\"\n            name=\"Section Title\"\n            type=\"text\"\n            ></v-text-field>\n          <v-textarea\n            v-model=\"value.description\"\n            label=\"Additional text for this section\"\n            name=\"Additional text for this section\"\n            type=\"text\"></v-textarea>\n\n          <v-divider class=\"pb-5\"></v-divider>\n      </v-form>\n</template>\n\n<script>\nimport encoding from '@/encoding'\n\nexport default {\n  name: 'CreatingBulletinElement',\n  props: ['value'],\n  watch: {\n    value () {\n      this.$emit('input', this.value)\n    }\n  },\n  data () {\n    return {\n    }\n  },\n  methods: {\n    processAccompaniment (file) {\n      file.arrayBuffer().then((buffer) => {\n        this.value.accompaniment = encoding.decode(new Uint8Array(buffer))\n        if (this.value.title === '') {\n          this.value.title = this.value.accompaniment.name\n        }\n      })\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/CreatingBulletinElement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-form',[_c('v-file-input',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"label\":\"Upload different accompaniment\",\"prepend-icon\":\"mdi-music-note-plus\",\"hide-input\":\"\"},on:{\"change\":function (file) { return _vm.processAccompaniment(file); }}}),_vm._v(\"Change accompaniment (\"+_vm._s((_vm.value.accompaniment ? _vm.value.accompaniment.name : 'None'))+\")\\n    \"),_c('v-text-field',{attrs:{\"label\":\"Section Title\",\"name\":\"Section Title\",\"type\":\"text\"},model:{value:(_vm.value.title),callback:function ($$v) {_vm.$set(_vm.value, \"title\", $$v)},expression:\"value.title\"}}),_vm._v(\" \"),_c('v-textarea',{attrs:{\"label\":\"Additional text for this section\",\"name\":\"Additional text for this section\",\"type\":\"text\"},model:{value:(_vm.value.description),callback:function ($$v) {_vm.$set(_vm.value, \"description\", $$v)},expression:\"value.description\"}}),_vm._v(\" \"),_c('v-divider',{staticClass:\"pb-5\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-298c2d16\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/CreatingBulletinElement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-298c2d16\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CreatingBulletinElement.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CreatingBulletinElement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CreatingBulletinElement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-298c2d16\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./CreatingBulletinElement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-298c2d16\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CreatingBulletinElement.vue\n// module id = null\n// module chunks = ","<template>\n  <v-container\n    class=\"fill-height\"\n    fluid\n  >\n    <v-row\n    >\n      <v-col>\n        <h1>Record or Import Accompaniment</h1>\n        <v-form>\n          Record a new accompaniment right now:\n          <br/>\n\n          <v-btn color=\"primary ml-5 mt-5 mb-5\" @click=\"record()\">Start Recording</v-btn>\n\n          <br/>\n\n          Or upload a sound file or <code>.accompaniment</code> file for editing:\n          <v-file-input color=\"primary\" ref=\"input\" v-on:change=\"(file) => processFile(file)\" label=\"Upload\"></v-file-input>\n        </v-form>\n\n        <div v-if=\"hasFile\">\n          <h1>Edit Accompaniment</h1>\n          <v-form>\n\n            <audio :src=\"audioSrc\" controls style=\"width:100%\"></audio>\n\n            Clip to range: {{ timeRange[0] }} - {{ timeRange[1] }}\n              <v-range-slider\n                thumb-label\n                v-model=\"timeRange\"\n                v-on:end=\"reclip()\"\n                step=\"0.01\"\n                min=\"0\"\n                :max=\"fullDuration\"></v-range-slider>\n\n            Sing together during range: {{ repeatRange[0] }} - {{ repeatRange[1] }}\n              <v-range-slider\n                thumb-label\n                v-model=\"repeatRange\"\n                v-on:end=\"reclip()\"\n                step=\"0.01\"\n                min=\"0\"\n                :max=\"fullDuration\"></v-range-slider>\n              <v-text-field v-model=\"name\" label=\"Name of song\"></v-text-field>\n              <v-textarea v-model=\"credits\" label=\"Credits\"></v-textarea>\n              <!--<v-btn color=\"primary\" large>Add to Service</v-btn>-->\n\n            <v-btn @click=\"togglePreview()\" large>\n              <span v-if=\"previewing\">Stop </span> Preview</v-btn>\n            <v-btn color=\"success\" @click=\"download()\" class=\"ml-5\" large>Download</v-btn>\n          </v-form>\n        </div>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n// import audio from '@/audio'\nimport encoding from '@/encoding'\n\nexport default {\n  data () {\n    return {\n      name: '',\n      credits: '',\n      timeRange: [0, 0],\n      repeatRange: [0, 0],\n      fullDuration: 0,\n      audioData: null,\n      audioSrc: '',\n      previewing: false,\n      hasFile: false,\n      fileFormat: ''\n    }\n  },\n  props: ['context'],\n  methods: {\n    processFile (file) {\n      console.log('processing file', file)\n\n      const fileName = file.name\n      const fileFormat = fileName.substr(fileName.indexOf('.') + 1)\n\n      if (fileFormat === 'accompaniment') {\n        file.arrayBuffer().then((buffer) => {\n          const accompaniment = encoding.decode(new Int8Array(buffer))\n\n          this.name = accompaniment.name\n          this.credits = accompaniment.credits\n          this.format = accompaniment.format\n          this.timeRange = accompaniment.time.map((x) => x / 1000)\n          this.repeatRange = accompaniment.repeat.map((x) => x / 1000)\n\n          this.audioData = accompaniment.audio.buffer\n          this.audioSrc = URL.createObjectURL(new Blob([\n            accompaniment.audio.buffer\n          ]))\n\n          this.context.decodeAudioData(accompaniment.audio.buffer).then((audioBuffer) => {\n            this.fullDuration = audioBuffer.duration\n\n            this.hasFile = true\n          })\n        })\n      } else {\n        this.audioSrc = URL.createObjectURL(file)\n\n        this.format = fileFormat\n\n        file.arrayBuffer().then((buffer) => {\n          this.audioData = buffer.slice(0)\n          return this.context.decodeAudioData(buffer)\n        }).then((audioBuffer) => {\n          this.timeRange = [0, audioBuffer.duration]\n          this.repeatRange = [0, audioBuffer.duration]\n          this.fullDuration = audioBuffer.duration\n          this.hasFile = true\n        })\n      }\n    },\n\n    togglePreview () {\n      if (this.previewing) {\n        this.previewSource.stop()\n        this.previewing = false\n      } else {\n        this.context.decodeAudiOData(this.audioData).then((audioBuffer) => {\n          this.sourceNode = this.context.createBufferSource()\n          this.sourceNode.buffer = audioBuffer\n          this.sourceNode.loop = true\n          this.sourceNode.loopStart = this.timeRange[0]\n          this.sourceNode.loopEnd = this.timeRange[1]\n          this.sourceNode.connect(this.context.destination)\n          this.sourceNode.start()\n          this.previewing = true\n        })\n      }\n    },\n\n    record () {\n      alert('Not implemented yet.')\n    },\n\n    download () {\n      const resultBuffer = encoding.encode({\n        name: this.name,\n        format: this.format,\n        credits: this.credits,\n        time: this.timeRange.map((x) => Math.round(x * 1000)),\n        repeat: this.repeatRange.map((x) => Math.round(x * 1000)),\n        audio: this.audioData\n      })\n\n      const blobURL = URL.createObjectURL(new Blob([resultBuffer.buffer]))\n\n      const link = document.createElement('a')\n      link.href = blobURL\n      link.download = this.name + '.accompaniment'\n\n      document.body.appendChild(link)\n\n      link.dispatchEvent(\n        new MouseEvent('click', {\n          bubbles: true,\n          cancelable: true,\n          view: window\n        })\n      )\n\n      document.body.removeChild(link)\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/AccompanimentMaker.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',[_c('h1',[_vm._v(\"Record or Import Accompaniment\")]),_vm._v(\" \"),_c('v-form',[_vm._v(\"\\n        Record a new accompaniment right now:\\n        \"),_c('br'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary ml-5 mt-5 mb-5\"},on:{\"click\":function($event){return _vm.record()}}},[_vm._v(\"Start Recording\")]),_vm._v(\" \"),_c('br'),_vm._v(\"\\n\\n        Or upload a sound file or \"),_c('code',[_vm._v(\".accompaniment\")]),_vm._v(\" file for editing:\\n        \"),_c('v-file-input',{ref:\"input\",attrs:{\"color\":\"primary\",\"label\":\"Upload\"},on:{\"change\":function (file) { return _vm.processFile(file); }}})],1),_vm._v(\" \"),(_vm.hasFile)?_c('div',[_c('h1',[_vm._v(\"Edit Accompaniment\")]),_vm._v(\" \"),_c('v-form',[_c('audio',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.audioSrc,\"controls\":\"\"}}),_vm._v(\"\\n\\n          Clip to range: \"+_vm._s(_vm.timeRange[0])+\" - \"+_vm._s(_vm.timeRange[1])+\"\\n            \"),_c('v-range-slider',{attrs:{\"thumb-label\":\"\",\"step\":\"0.01\",\"min\":\"0\",\"max\":_vm.fullDuration},on:{\"end\":function($event){return _vm.reclip()}},model:{value:(_vm.timeRange),callback:function ($$v) {_vm.timeRange=$$v},expression:\"timeRange\"}}),_vm._v(\"\\n\\n          Sing together during range: \"+_vm._s(_vm.repeatRange[0])+\" - \"+_vm._s(_vm.repeatRange[1])+\"\\n            \"),_c('v-range-slider',{attrs:{\"thumb-label\":\"\",\"step\":\"0.01\",\"min\":\"0\",\"max\":_vm.fullDuration},on:{\"end\":function($event){return _vm.reclip()}},model:{value:(_vm.repeatRange),callback:function ($$v) {_vm.repeatRange=$$v},expression:\"repeatRange\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"label\":\"Name of song\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_vm._v(\" \"),_c('v-textarea',{attrs:{\"label\":\"Credits\"},model:{value:(_vm.credits),callback:function ($$v) {_vm.credits=$$v},expression:\"credits\"}}),_vm._v(\" \"),_c('v-btn',{attrs:{\"large\":\"\"},on:{\"click\":function($event){return _vm.togglePreview()}}},[(_vm.previewing)?_c('span',[_vm._v(\"Stop \")]):_vm._e(),_vm._v(\" Preview\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"ml-5\",attrs:{\"color\":\"success\",\"large\":\"\"},on:{\"click\":function($event){return _vm.download()}}},[_vm._v(\"Download\")])],1)],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-470b2674\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AccompanimentMaker.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Look right?\")]),_vm._v(\" \"),_c('v-card-text',[_c('div',[_c('b',[_vm._v(\"Room name:\")]),_vm._v(\" \"+_vm._s(_vm.room.title)+\"\\n    \")]),_vm._v(\" \"),_c('div',[_c('b',[_vm._v(\"Password:\")]),_vm._v(\" \"),(_vm.room.password.length > 0)?_c('span',[_vm._v(\"\\n        Yes\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.room.password.length == 0)?_c('span',[_vm._v(\"\\n        No\\n      \")]):_vm._e()]),_vm._v(\" \"),_c('div',[_c('b',[_vm._v(\"Expires:\")]),_vm._v(\" \"+_vm._s(_vm.room.expiration)+\"\\n    \")]),_vm._v(\" \"),_c('b',[_vm._v(\"Bulletin:\")]),_vm._v(\" \"),_c('v-list',{attrs:{\"disabled\":\"\"}},_vm._l((_vm.room.bulletin),function(item,i){return _c('v-list-item',{key:i},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s((i + 1))+\". \"+_vm._s(item.title)+\" (\"+_vm._s((item.accompaniment ? item.accompaniment.name : 'No accompaniment'))+\")\")]),_vm._v(\" \"),_c('div',{staticClass:\"justify-left\"},[_vm._v(_vm._s(item.description))])],1)],1)}),1)],1),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"justify-center\"},[_c('v-btn',{on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$emit('finish')}}},[_vm._v(\"Finish\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7516da3d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/RoomConfirmRenderer.vue\n// module id = null\n// module chunks = ","<template>\n<v-container class=\"fill-height overflow-y-auto\">\n  <v-navigation-drawer\n    v-model=\"drawer\"\n    app\n    >\n    <v-list dense>\n      <v-list-item link @click=\"viewing='roominfo'\">\n        <v-list-item-action>\n          <v-icon>mdi-cog</v-icon>\n        </v-list-item-action>\n        <v-list-item-content>\n          Room Info\n        </v-list-item-content>\n      </v-list-item>\n\n      <v-list-item link @click=\"viewing='order'\">\n        <v-list-item-action>\n          <v-icon>mdi-format-list-numbered</v-icon>\n        </v-list-item-action>\n        <v-list-item-content>\n          Order of Service\n        </v-list-item-content>\n      </v-list-item>\n\n      <v-list-item link @click=\"viewing='accompaniments'\">\n        <v-list-item-action>\n          <v-icon>mdi-music-note-plus</v-icon>\n        </v-list-item-action>\n        <v-list-item-content>\n          Accompaniments\n        </v-list-item-content>\n      </v-list-item>\n\n      <v-list-item link @click.stop=\"cancelConfirmShown = true\">\n        <v-list-item-action>\n          <v-icon>mdi-delete</v-icon>\n        </v-list-item-action>\n        <v-list-item-content>\n          Discard\n        </v-list-item-content>\n      </v-list-item>\n\n      <v-list-item link @click.stop=\"finishConfirmShown = true\">\n        <v-list-item-action>\n          <v-icon>mdi-publish</v-icon>\n        </v-list-item-action>\n        <v-list-item-content>\n          Finish\n        </v-list-item-content>\n      </v-list-item>\n    </v-list>\n  </v-navigation-drawer>\n\n  <v-dialog\n    v-model=\"cancelConfirmShown\"\n    max-width=\"500\"\n    >\n\n    <v-card>\n      <v-card-title class=\"headline\">Discard?</v-card-title>\n\n      <v-card-text>This will throw away your work on this room.</v-card-text>\n\n      <v-card-actions class=\"justify-center\">\n        <v-btn @click=\"cancelConfirmShown = false\">Never mind</v-btn> <v-btn to=\"/\" color=\"danger\">Discard</v-btn>\n      </v-card-actions>\n\n    </v-card>\n  </v-dialog>\n\n  <v-dialog\n    v-model=\"finishConfirmShown\"\n    max-width=500\n    >\n    <RoomConfirmRenderer\n      :room=\"room\"\n      @cancel=\"finishConfirmShown=false\"\n      @finish=\"finish()\"\n    ></RoomConfirmRenderer>\n  </v-dialog>\n\n  <v-app-bar app color=\"indigo\" dark>\n      <v-app-bar-nav-icon @click.stop=\"drawer = !drawer\"></v-app-bar-nav-icon>\n      <v-toolbar-title>Create Room</v-toolbar-title>\n  </v-app-bar>\n\n  <!-- Room info -->\n  <v-container\n    fluid\n    v-if=\"viewing=='roominfo'\"\n  >\n    <h1>Room Info</h1>\n\n    <v-container>\n      <v-form>\n        <v-text-field label=\"Name\" v-model=\"room.title\"></v-text-field>\n        <v-text-field label=\"Password (optional)\" v-model=\"room.password\" type=\"password\"></v-text-field>\n        <v-menu\n          ref=\"menu\"\n          :close-on-content-click=\"false\"\n          transition=\"scale-transition\"\n          offset-y\n          min-width=\"290px\"\n          >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-text-field\n              v-model=\"room.expiration\"\n              label=\"Expires after date\"\n              prepend-icon=\"event\"\n              readonly\n              v-bind=\"attrs\"\n              v-on=\"on\"\n              ></v-text-field>\n          </template>\n          <v-date-picker v-model=\"room.expiration\" no-title scrollable>\n            <v-spacer></v-spacer>\n            <v-btn text color=\"primary\" @click=\"menu = false\">Cancel</v-btn>\n            <v-btn text color=\"primary\" @click=\"$refs.menu.save(date)\">OK</v-btn>\n          </v-date-picker>\n        </v-menu>\n\n      </v-form>\n    </v-container>\n\n  </v-container>\n\n  <v-container\n    class=\"fill-height\"\n    fluid\n    v-if=\"viewing=='order'\"\n  >\n  <v-row>\n    <v-col>\n      <h1>Create the Order of Service</h1>\n\n      <CreatingBulletinElement\n          v-for=\"(item, i) in room.bulletin\"\n          style=\"width:100%\"\n          :key=\"i\"\n          v-model=\"room.bulletin[i]\"></CreatingBulletinElement>\n\n      <v-btn v-on:click=\"addSection()\" large>Add section</v-btn>\n\n    </v-col>\n  </v-row>\n  </v-container>\n\n  <AccompanimentMaker\n    :context=\"context\"\n    v-if=\"viewing=='accompaniments'\"></AccompanimentMaker>\n\n</v-container>\n</template>\n\n<script>\nimport CreatingBulletinElement from '@/components/CreatingBulletinElement'\nimport AccompanimentMaker from '@/components/AccompanimentMaker'\nimport RoomConfirmRenderer from '@/components/RoomConfirmRenderer'\n// import brq from '@/binaryRequests'\n// import encoding from '@/encoding'\n\nexport default {\n  name: 'Sing',\n  props: ['context'],\n  components: {\n    CreatingBulletinElement,\n    AccompanimentMaker,\n    RoomConfirmRenderer\n  },\n  data () {\n    return { // TODO rescope to their own component\n      date: '',\n      viewing: 'roominfo',\n      drawer: true,\n      canCreate: false,\n\n      room: {\n        bulletin: [],\n        expiration: (new Date()).toISOString().substring(0, 10),\n        title: '',\n        password: ''\n      },\n\n      finishConfirmShown: false,\n      cancelConfirmShown: false\n    }\n  },\n  methods: {\n    addSection () {\n      this.room.bulletin.push({\n        'title': '',\n        'accompaniment': null,\n        'description': ''\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Create.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AccompanimentMaker.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AccompanimentMaker.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-470b2674\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AccompanimentMaker.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AccompanimentMaker.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoomConfirmRenderer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoomConfirmRenderer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7516da3d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./RoomConfirmRenderer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RoomConfirmRenderer.vue\n// module id = null\n// module chunks = ","<template>\n  <v-card>\n    <v-card-title class=\"headline\">Look right?</v-card-title>\n\n    <v-card-text>\n      <div>\n        <b>Room name:</b> {{room.title}}\n      </div>\n\n      <div>\n        <b>Password:</b>\n        <span v-if=\"room.password.length > 0\">\n          Yes\n        </span>\n        <span v-if=\"room.password.length == 0\">\n          No\n        </span>\n      </div>\n\n      <div>\n        <b>Expires:</b> {{room.expiration}}\n      </div>\n\n      <b>Bulletin:</b>\n      <v-list disabled>\n        <v-list-item\n          v-for=\"(item, i) in room.bulletin\"\n          :key=\"i\"\n          >\n          <v-list-item-content>\n            <v-list-item-title> {{(i + 1)}}. {{item.title}} ({{(item.accompaniment ? item.accompaniment.name : 'No accompaniment')}})</v-list-item-title>\n            <div class=\"justify-left\">{{item.description}}</div>\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n    </v-card-text>\n\n    <v-card-actions class=\"justify-center\">\n      <v-btn @click=\"$emit('cancel')\">Cancel</v-btn> <v-btn color=\"primary\" @click=\"$emit('finish')\">Finish</v-btn>\n    </v-card-actions>\n\n  </v-card>\n</template>\n\n<script>\nexport default {\n  props: ['room'],\n  data () {\n    return {\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/RoomConfirmRenderer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height overflow-y-auto\"},[_c('v-navigation-drawer',{attrs:{\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function($event){_vm.viewing='roominfo'}}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-cog\")])],1),_vm._v(\" \"),_c('v-list-item-content',[_vm._v(\"\\n          Room Info\\n        \")])],1),_vm._v(\" \"),_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function($event){_vm.viewing='order'}}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-format-list-numbered\")])],1),_vm._v(\" \"),_c('v-list-item-content',[_vm._v(\"\\n          Order of Service\\n        \")])],1),_vm._v(\" \"),_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function($event){_vm.viewing='accompaniments'}}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-music-note-plus\")])],1),_vm._v(\" \"),_c('v-list-item-content',[_vm._v(\"\\n          Accompaniments\\n        \")])],1),_vm._v(\" \"),_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.cancelConfirmShown = true}}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-delete\")])],1),_vm._v(\" \"),_c('v-list-item-content',[_vm._v(\"\\n          Discard\\n        \")])],1),_vm._v(\" \"),_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.finishConfirmShown = true}}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-publish\")])],1),_vm._v(\" \"),_c('v-list-item-content',[_vm._v(\"\\n          Finish\\n        \")])],1)],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.cancelConfirmShown),callback:function ($$v) {_vm.cancelConfirmShown=$$v},expression:\"cancelConfirmShown\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Discard?\")]),_vm._v(\" \"),_c('v-card-text',[_vm._v(\"This will throw away your work on this room.\")]),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"justify-center\"},[_c('v-btn',{on:{\"click\":function($event){_vm.cancelConfirmShown = false}}},[_vm._v(\"Never mind\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"to\":\"/\",\"color\":\"danger\"}},[_vm._v(\"Discard\")])],1)],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.finishConfirmShown),callback:function ($$v) {_vm.finishConfirmShown=$$v},expression:\"finishConfirmShown\"}},[_c('RoomConfirmRenderer',{attrs:{\"room\":_vm.room},on:{\"cancel\":function($event){_vm.finishConfirmShown=false},\"finish\":function($event){return _vm.finish()}}})],1),_vm._v(\" \"),_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"indigo\",\"dark\":\"\"}},[_c('v-app-bar-nav-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}),_vm._v(\" \"),_c('v-toolbar-title',[_vm._v(\"Create Room\")])],1),_vm._v(\" \"),(_vm.viewing=='roominfo')?_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('h1',[_vm._v(\"Room Info\")]),_vm._v(\" \"),_c('v-container',[_c('v-form',[_c('v-text-field',{attrs:{\"label\":\"Name\"},model:{value:(_vm.room.title),callback:function ($$v) {_vm.$set(_vm.room, \"title\", $$v)},expression:\"room.title\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"label\":\"Password (optional)\",\"type\":\"password\"},model:{value:(_vm.room.password),callback:function ($$v) {_vm.$set(_vm.room, \"password\", $$v)},expression:\"room.password\"}}),_vm._v(\" \"),_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Expires after date\",\"prepend-icon\":\"event\",\"readonly\":\"\"},model:{value:(_vm.room.expiration),callback:function ($$v) {_vm.$set(_vm.room, \"expiration\", $$v)},expression:\"room.expiration\"}},'v-text-field',attrs,false),on))]}}],null,false,3867838363)},[_vm._v(\" \"),_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.room.expiration),callback:function ($$v) {_vm.$set(_vm.room, \"expiration\", $$v)},expression:\"room.expiration\"}},[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu = false}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.menu.save(_vm.date)}}},[_vm._v(\"OK\")])],1)],1)],1)],1)],1):_vm._e(),_vm._v(\" \"),(_vm.viewing=='order')?_c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',[_c('h1',[_vm._v(\"Create the Order of Service\")]),_vm._v(\" \"),_vm._l((_vm.room.bulletin),function(item,i){return _c('CreatingBulletinElement',{key:i,staticStyle:{\"width\":\"100%\"},model:{value:(_vm.room.bulletin[i]),callback:function ($$v) {_vm.$set(_vm.room.bulletin, i, $$v)},expression:\"room.bulletin[i]\"}})}),_vm._v(\" \"),_c('v-btn',{attrs:{\"large\":\"\"},on:{\"click\":function($event){return _vm.addSection()}}},[_vm._v(\"Add section\")])],2)],1)],1):_vm._e(),_vm._v(\" \"),(_vm.viewing=='accompaniments')?_c('AccompanimentMaker',{attrs:{\"context\":_vm.context}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1d449435\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Create.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d449435\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Create.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Create.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Create.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d449435\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Create.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1d449435\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Create.vue\n// module id = null\n// module chunks = ","import encoding from '@/encoding'\n\nfunction formatQs (data) {\n  const components = []\n  for (const key in data) {\n    components.push(key + '=' +\n      encodeURIComponent(data[key]))\n  }\n\n  return '?' + components.join('&')\n}\nfunction get (url, data) {\n  const q = new XMLHttpRequest()\n  q.open('GET', url +\n    formatQs(data), true)\n\n  q.responseType = 'arraybuffer'\n\n  return new Promise((resolve, reject) => {\n    q.addEventListener('load', () => {\n      resolve(encoding.decode(\n        new Uint8Array(q.response)))\n    })\n\n    q.addEventListener('error', reject)\n\n    q.send()\n  })\n}\n\nfunction post (url, qsData, postData) {\n  const q = new XMLHttpRequest()\n  q.open('POST', url +\n    formatQs(qsData), true)\n\n  q.responseType = 'arraybuffer'\n\n  return new Promise((resolve, reject) => {\n    q.addEventListener('load', () => {\n      resolve(encoding.decode(\n        new Uint8Array(q.response)))\n    })\n    q.addEventListener('error', reject)\n    q.send(new Blob([encoding.encode(postData).buffer]))\n  })\n}\n\nexport default {get, post}\n\n\n\n// WEBPACK FOOTER //\n// ./src/binaryRequests.js","let mediaStream = null\n\nfunction getMediaStream () {\n  if (mediaStream != null) {\n    return Promise.resolve(mediaStream)\n  } else {\n    return navigator.mediaDevices.getUserMedia(\n      {audio: true, video: false}\n    ).then((stream) => {\n      mediaStream = stream\n      return stream\n    })\n  }\n}\n\nfunction recordMedia (stream) {\n  stream = stream.clone()\n\n  const mediaRecorder = new MediaRecorder(stream, {mimeType: 'audio/webm'})\n\n  const data = []\n\n  mediaRecorder.addEventListener('dataavailable', (e) => {\n    if (e.data.size > 0) {\n      data.push(e.data)\n    }\n  })\n\n  mediaRecorder.start()\n\n  return {\n    stop: () => mediaRecorder.stop(),\n    data: new Promise((resolve, reject) => {\n      mediaRecorder.addEventListener('stop', (e) => {\n        // For the time begin we are only allowing recording\n        // in a single chunk. TODO change?\n        resolve(new Response(data[0]).arrayBuffer())\n      })\n    })\n  }\n}\n\nfunction playAudioBuffer (context, buffer, time) {\n  const bufferSource = context.createBufferSource()\n  bufferSource.buffer = buffer\n  bufferSource.connect(context.destination)\n\n  if (time < context.currentTime) {\n    bufferSource.start(0, context.currentTime - time)\n  } else {\n    bufferSource.start(time)\n  }\n}\n\nfunction createOscillatorBuffer (context, duration) {\n  const buffer = context.createBuffer(2, context.sampleRate * duration, context.sampleRate)\n\n  for (let channel = 0; channel < buffer.numberOfChannels; channel++) {\n    const currentChannel = buffer.getChannelData(channel)\n    for (let i = 0; i < buffer.length; i++) {\n      currentChannel[i] = Math.sin(2 * Math.PI * i * 440 / context.sampleRate)\n    }\n  }\n\n  return buffer\n}\n\nfunction recordAtTime (context, stream, startTime, endTime) {\n  return new Promise((resolve, reject) => {\n    function timeCheck () {\n      if (startTime - context.currentTime < 0.5) {\n        beginRecording()\n      } else {\n        setTimeout(timeCheck, 100)\n      }\n    }\n\n    function beginRecording () {\n      const recorder = recordMedia(stream)\n\n      resolve(Promise.all([recorder.data, startTime - context.currentTime]))\n\n      setTimeout(\n        recorder.stop,\n        (endTime - context.currentTime) * 1000 + 100\n      )\n    }\n\n    timeCheck()\n  })\n}\n\nfunction measureLatency (context) {\n  const supposedTime = context.currentTime + 1\n  const buffer = createOscillatorBuffer(context, 0.5)\n\n  return getMediaStream().then((stream) => {\n    // Play and record simultaneously\n    playAudioBuffer(context, buffer, supposedTime)\n    return recordAtTime(context, stream, supposedTime, supposedTime + 1)\n  }).then(([buffer, offset]) => {\n    // Decode the resulting audio\n    return Promise.all([context.decodeAudioData(buffer), offset])\n  }).then(([audioBuffer, offset]) => {\n    // Determine when the audio was first heard\n    const channelData = audioBuffer.getChannelData(0)\n\n    const maximum = Math.max.apply(window, channelData)\n    const minimum = Math.min.apply(window, channelData)\n\n    let thresh = Math.min(Math.abs(maximum) / 2,\n      Math.abs(minimum) / 2)\n\n    const startIndex = Math.round(audioBuffer.sampleRate * offset)\n    const endIndex = startIndex + audioBuffer.sampleRate * 1\n\n    while (true) {\n      for (let i = startIndex; i < endIndex; i++) {\n        if (Math.abs(channelData[i]) > thresh) {\n          return (i - startIndex) / audioBuffer.sampleRate\n        }\n      }\n      thresh /= 2\n    }\n  })\n}\n\nexport default {\n  getMediaStream,\n  recordMedia,\n  playAudioBuffer,\n  createOscillatorBuffer,\n  recordAtTime,\n  measureLatency\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/audio.js","<template>\n    <v-container\n      class=\"fill-height\"\n      fluid\n    >\n      <v-row\n        class=\"fill-height\"\n        align=\"center\"\n        justify=\"center\"\n      >\n        <v-col\n          class=\"fill-height\"\n          cols=\"10\"\n          sm=\"10\"\n          md=\"10\"\n        >\n        <v-card class=\"elevation-12 fill-height\" align=\"center\">\n          <v-card-title class=\"indigo white--text\" style=\"position: absolute; top:0; left: 0; right: 0\">Room {{$route.params.room}}</v-card-title>\n            <v-spacer></v-spacer>\n\n            <v-card-text style=\"position: absolute; top: 64px; bottom: 64px;\">\n              <v-container class=\"fill-height\">\n                <v-row class=\"fill-height\">\n                  <v-col cols=\"3\" class=\"fill-height\">\n                    <v-card class=\"fill-height\">\n                      <v-card-title light flat>Participants</v-card-title>\n                      <v-divider></v-divider>\n                      <v-card-text>\n                        <v-list disabled>\n                          <v-list-item-group v-model=\"userId\">\n                             <v-list-item\n                              v-for=\"user in users\"\n                              :key=\"user.id\"\n                            >\n                              <v-list-item-icon>\n                                <v-icon>mdi-account</v-icon>\n                              </v-list-item-icon>\n\n                              <v-list-item-content>\n                                <v-list-item-title v-text=\"user.name\"></v-list-item-title>\n                              </v-list-item-content>\n                            </v-list-item>\n                          </v-list-item-group>\n                        </v-list>\n                      </v-card-text>\n                    </v-card>\n                  </v-col>\n                  <v-col cols=\"9\" class=\"fill-height\">\n                    <v-card class=\"fill-height overflow-y-auto\">\n                      <v-card-title>Bulletin</v-card-title>\n\n                      <v-divider></v-divider>\n\n                      <v-card-text>\n                        <v-list disabled>\n                          <v-list-item-group v-model=\"index\">\n                             <v-list-item\n                              v-for=\"(item, i) in bulletin\"\n                              :key=\"i\"\n                            >\n                              <v-list-item-content>\n                                <v-list-item-title v-text=\"(i + 1) + '. ' + item.title\"></v-list-item-title>\n                                <div class=\"justify-left\">{{item.description}}</div>\n                              </v-list-item-content>\n                            </v-list-item>\n                          </v-list-item-group>\n                        </v-list>\n                      </v-card-text>\n                    </v-card>\n\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n\n            <v-divider></v-divider>\n\n            <v-card-actions class=\"justify-center indigo white--text\" style=\"position: absolute; bottom:0; left: 0; right: 0\">\n              <v-btn v-on:click=\"advance()\">{{advanceMessage}}</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n</template>\n\n<script>\nimport brq from '@/binaryRequests'\nimport audio from '@/audio'\n\nexport default {\n  name: 'Sing',\n  props: ['context'],\n  data () {\n    return {\n      'bulletin': [],\n      'users': [],\n\n      'roomId': this.$route.params.room,\n      'name': decodeURIComponent(this.$route.params.user),\n\n      'roomSinging': false,\n      'schedulers': {},\n\n      'songs': {},\n\n      'advanceMessage': 'Begin service',\n\n      'index': -1,\n      'userId': ''\n    }\n  },\n  methods: {\n    advance () {\n      if (this.singing) {\n        brq.get('/api/stop-song', {room_id: this.roomId})\n      } else {\n        brq.get('/api/start-song', {room_id: this.roomId, index: this.index + 1})\n      }\n    }\n  },\n  created () {\n    // Asynchronously also get songs\n\n    audio.getMediaStream().then((stream) => {\n      // Populate the bulletin\n      brq.get('/api/get-bulletin', {\n        'room_id': this.roomId\n      }).then((response) => {\n        this.bulletin = response\n      })\n\n      // Join the relevant room\n      brq.get('/api/join-room', {\n        'room_id': this.roomId,\n        'name': this.name\n      }).then((response) => {\n        this.userId = response.user_id\n\n        heartbeat()\n      })\n\n      // Singing scheduler\n      const scheduleNext = (index, parity, time) => {\n        this.schedulers[index] = true\n\n        // Nothing to do if we are not actually singing anything\n        if (index < 0 || this.bulletin[index].song < 0) return\n\n        brq.get('/api/get-mixed', {\n          room_id: this.roomId,\n          user_id: this.userId,\n          index: index,\n          parity: parity\n        }).then((response) => {\n          return Promise.all([\n            response.range,\n            this.context.decodeAudioData(response.audio.buffer)\n          ])\n        }).then(([range, buffer]) => {\n          // Kick off the next schedule and also play the next\n          // sound\n          setTimeout(() => {\n            if (parity === 0 || (index === this.index && this.singing)) {\n              scheduleNext(index,\n                (parity + 1) % 2,\n                time + buffer.duration)\n            } else {\n              this.schedulers[index] = false\n            }\n          }, (time + buffer.duration -\n            this.context.currentTime) * 1000 - 2000)\n\n          audio.playAudioBuffer(this.context, buffer, time)\n          return audio.recordAtTime(this.context, stream, time + range[0] / 1000, time + range[1] / 1000)\n        }).then(([buffer, offset]) => {\n          offset += this.$store.state.latency\n\n          return brq.post('/api/submit-audio', {\n            'user_id': this.userId,\n            'index': index,\n            'parity': parity\n          }, {\n            'audio': buffer,\n            'offset': offset\n          })\n        })\n      }\n\n      // Heartbeat our presence to the server\n      // every 1.5 seconds\n      const heartbeat = () => {\n        brq.get('/api/heartbeat', {\n          'user_id': this.userId\n        }).then((response) => {\n          this.singing = response.singing\n          this.index = response.index\n          this.users = response.users\n\n          if (this.singing) {\n            this.advanceMessage = 'Stop singing'\n          } else if (this.index + 1 < this.bulletin.length) {\n            console.log(this.index + 1, this.bulletin, this.bulletin[this.index + 1])\n            this.advanceMessage = 'Start ' + this.bulletin[this.index + 1].title\n          }\n\n          // If we are not singing the song that\n          // everyone else is singing, start doing so.\n          if (!this.schedulers[this.index]) {\n            scheduleNext(this.index, 0, this.context.currentTime)\n          }\n\n          setTimeout(heartbeat, 1500)\n        })\n      }\n    })\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Sing.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-row',{staticClass:\"fill-height\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{staticClass:\"fill-height\",attrs:{\"cols\":\"10\",\"sm\":\"10\",\"md\":\"10\"}},[_c('v-card',{staticClass:\"elevation-12 fill-height\",attrs:{\"align\":\"center\"}},[_c('v-card-title',{staticClass:\"indigo white--text\",staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\"}},[_vm._v(\"Room \"+_vm._s(_vm.$route.params.room))]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-card-text',{staticStyle:{\"position\":\"absolute\",\"top\":\"64px\",\"bottom\":\"64px\"}},[_c('v-container',{staticClass:\"fill-height\"},[_c('v-row',{staticClass:\"fill-height\"},[_c('v-col',{staticClass:\"fill-height\",attrs:{\"cols\":\"3\"}},[_c('v-card',{staticClass:\"fill-height\"},[_c('v-card-title',{attrs:{\"light\":\"\",\"flat\":\"\"}},[_vm._v(\"Participants\")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-text',[_c('v-list',{attrs:{\"disabled\":\"\"}},[_c('v-list-item-group',{model:{value:(_vm.userId),callback:function ($$v) {_vm.userId=$$v},expression:\"userId\"}},_vm._l((_vm.users),function(user){return _c('v-list-item',{key:user.id},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-account\")])],1),_vm._v(\" \"),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(user.name)}})],1)],1)}),1)],1)],1)],1)],1),_vm._v(\" \"),_c('v-col',{staticClass:\"fill-height\",attrs:{\"cols\":\"9\"}},[_c('v-card',{staticClass:\"fill-height overflow-y-auto\"},[_c('v-card-title',[_vm._v(\"Bulletin\")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-text',[_c('v-list',{attrs:{\"disabled\":\"\"}},[_c('v-list-item-group',{model:{value:(_vm.index),callback:function ($$v) {_vm.index=$$v},expression:\"index\"}},_vm._l((_vm.bulletin),function(item,i){return _c('v-list-item',{key:i},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s((i + 1) + '. ' + item.title)}}),_vm._v(\" \"),_c('div',{staticClass:\"justify-left\"},[_vm._v(_vm._s(item.description))])],1)],1)}),1)],1)],1)],1)],1)],1)],1)],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"justify-center indigo white--text\",staticStyle:{\"position\":\"absolute\",\"bottom\":\"0\",\"left\":\"0\",\"right\":\"0\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.advance()}}},[_vm._v(_vm._s(_vm.advanceMessage))])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f7df87e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Sing.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3f7df87e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Sing.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sing.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sing.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f7df87e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Sing.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3f7df87e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Sing.vue\n// module id = null\n// module chunks = ","<template>\n    <v-container\n      class=\"fill-height\"\n      fluid\n    >\n      <v-row\n        align=\"center\"\n        justify=\"center\"\n      >\n        <v-col\n          cols=\"12\"\n          sm=\"8\"\n          md=\"4\"\n        >\n          <v-card class=\"elevation-12\" align=\"center\">\n            <v-card-title class=\"indigo white--text\">Calibrate audio latency</v-card-title>\n            <v-spacer></v-spacer>\n            <v-card-text>\n              <div v-if=\"!finished\">\n              Hold your headphones up to your microphone and click \"calibrate\". This will take about 15 seconds.\n              </div>\n              <div v-if=\"finished\">\n              We estimate your audio latency to be around {{$store.state.latency.toPrecision(3)}} seconds. Click \"continue\", or, if something went wrong, hold your headphones up to your micrphone and click \"recalibrate\".\n              </div>\n              <v-spacer></v-spacer>\n              <v-btn v-on:click=\"calibrate()\" color=\"primary\" large>{{(finished? 'Recalibrate' : 'Calibrate')}}</v-btn>\n            </v-card-text>\n            <v-card-actions class=\"justify-center\">\n              <v-btn to=\"/join\" large>Back</v-btn>\n              <v-btn\n                :disabled=\"!finished\"\n                v-bind:to=\"'/sing/' + room + '/' + user\"\n                color=\"success\" large>Continue</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n</template>\n\n<script>\nimport audio from '@/audio'\n\nexport default {\n  name: 'Calibrate',\n  props: ['context'],\n  data () {\n    return {\n      'measurements': [],\n      'room': this.$route.params.room,\n      'user': this.$route.params.user,\n      'finished': false\n    }\n  },\n  methods: {\n    calibrate () {\n      this.measurements = []\n      let p = Promise.resolve(-1)\n      for (let i = 0; i < 9; i++) {\n        p = p.then((data) => {\n          if (data > 0) this.measurements.push(data)\n          return audio.measureLatency(this.context)\n        })\n      }\n      p.then((data) => {\n        this.measurements.push(data)\n        this.$store.commit('setLatency', this.measurements.sort()[4])\n        this.finished = true\n      })\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Calibrate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"8\",\"md\":\"4\"}},[_c('v-card',{staticClass:\"elevation-12\",attrs:{\"align\":\"center\"}},[_c('v-card-title',{staticClass:\"indigo white--text\"},[_vm._v(\"Calibrate audio latency\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-card-text',[(!_vm.finished)?_c('div',[_vm._v(\"\\n          Hold your headphones up to your microphone and click \\\"calibrate\\\". This will take about 15 seconds.\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.finished)?_c('div',[_vm._v(\"\\n          We estimate your audio latency to be around \"+_vm._s(_vm.$store.state.latency.toPrecision(3))+\" seconds. Click \\\"continue\\\", or, if something went wrong, hold your headphones up to your micrphone and click \\\"recalibrate\\\".\\n          \")]):_vm._e(),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\",\"large\":\"\"},on:{\"click\":function($event){return _vm.calibrate()}}},[_vm._v(_vm._s((_vm.finished? 'Recalibrate' : 'Calibrate')))])],1),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"justify-center\"},[_c('v-btn',{attrs:{\"to\":\"/join\",\"large\":\"\"}},[_vm._v(\"Back\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"disabled\":!_vm.finished,\"to\":'/sing/' + _vm.room + '/' + _vm.user,\"color\":\"success\",\"large\":\"\"}},[_vm._v(\"Continue\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b180e1f4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Calibrate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b180e1f4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Calibrate.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Calibrate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Calibrate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b180e1f4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Calibrate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b180e1f4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Calibrate.vue\n// module id = null\n// module chunks = ","<template>\n  <v-content>\n    <v-card fluid class=\"mx-auto text-center pb-10\">\n      <div class=\"central-title d-flex justify-center align-center mb-4 pt-10\">\n        <div>\n          <img src=\"@/assets/prototype-logo.svg\"/>\n        </div>\n        <h1 class=\"text--primary ml-2\">\n          About\n        </h1>\n      </div>\n\n      <v-card-text style=\"text-align: left\">\n        <p>Sing Together Again was originally written by Anthony Bau in an effort to find a way for Taize at MIT to sing together again during the COVID-19 lockdown in 2020. It is built with congregational singing in mind, but can be used for any situation where a group of people want to sing something in harmony repeatedly.</p>\n\n        <p>If a group wants to sing together with Sing Together Again, they'll first need to get, in advance, some accompaniment or leading voice to record one playthrough of each song they will sing. This will serve to ground the rhythm of the group and ensure everyone remains in time. Then one person will create a room and load these recordings into the order of service. They'll then distribute the room ID so everyone else can join.</p>\n\n        <p>When singing, everyone will first hear just the recorded accompaniment/leader, and should begin singing along to it immediately. After one full playthrough, everyone will begin to hear everyone else's voices in harmony; these voices are taken from the previous repetition.</p>\n      </v-card-text>\n    </v-card>\n  </v-content>\n</template>\n\n<script>\nimport JoinInsert from '@/components/JoinInsert'\n\nexport default {\n  name: 'Welcome',\n  components: {JoinInsert},\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js App',\n      joinDialogShown: false\n    }\n  },\n  methods: {\n    join (roomId, name) {\n      this.$router.push(\n        '/calibrate/' + roomId + '/' + encodeURIComponent(name)\n      )\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/About.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[_c('v-card',{staticClass:\"mx-auto text-center pb-10\",attrs:{\"fluid\":\"\"}},[_c('div',{staticClass:\"central-title d-flex justify-center align-center mb-4 pt-10\"},[_c('div',[_c('img',{attrs:{\"src\":require(\"@/assets/prototype-logo.svg\")}})]),_vm._v(\" \"),_c('h1',{staticClass:\"text--primary ml-2\"},[_vm._v(\"\\n        About\\n      \")])]),_vm._v(\" \"),_c('v-card-text',{staticStyle:{\"text-align\":\"left\"}},[_c('p',[_vm._v(\"Sing Together Again was originally written by Anthony Bau in an effort to find a way for Taize at MIT to sing together again during the COVID-19 lockdown in 2020. It is built with congregational singing in mind, but can be used for any situation where a group of people want to sing something in harmony repeatedly.\")]),_vm._v(\" \"),_c('p',[_vm._v(\"If a group wants to sing together with Sing Together Again, they'll first need to get, in advance, some accompaniment or leading voice to record one playthrough of each song they will sing. This will serve to ground the rhythm of the group and ensure everyone remains in time. Then one person will create a room and load these recordings into the order of service. They'll then distribute the room ID so everyone else can join.\")]),_vm._v(\" \"),_c('p',[_vm._v(\"When singing, everyone will first hear just the recorded accompaniment/leader, and should begin singing along to it immediately. After one full playthrough, everyone will begin to hear everyone else's voices in harmony; these voices are taken from the previous repetition.\")])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0332ca6a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/About.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0332ca6a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./About.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./About.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./About.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0332ca6a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./About.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0332ca6a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/About.vue\n// module id = null\n// module chunks = ","<template>\n  <v-content>\n    <v-card fluid class=\"mx-auto text-center pb-10\">\n      <div class=\"central-title d-flex justify-center align-center mb-4 pt-10\">\n        <div>\n          <img src=\"@/assets/prototype-logo.svg\"/>\n        </div>\n        <h1 class=\"text--primary ml-2\">\n          Contribute\n        </h1>\n      </div>\n\n      <v-card-text style=\"text-align:left\">\n        If you are a developer with time, this project is on Github at <a href=\"https://github.com/dabbler0/sing-together-again-rewrite\">sing-together-again-rewrite</a>. As of right now I am still actively maintaining it and am open to Github issues or pull requests.\n      </v-card-text>\n    </v-card>\n  </v-content>\n</template>\n\n<script>\nimport JoinInsert from '@/components/JoinInsert'\n\nexport default {\n  name: 'Welcome',\n  components: {JoinInsert},\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js App',\n      joinDialogShown: false\n    }\n  },\n  methods: {\n    join (roomId, name) {\n      this.$router.push(\n        '/calibrate/' + roomId + '/' + encodeURIComponent(name)\n      )\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Contributing.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[_c('v-card',{staticClass:\"mx-auto text-center pb-10\",attrs:{\"fluid\":\"\"}},[_c('div',{staticClass:\"central-title d-flex justify-center align-center mb-4 pt-10\"},[_c('div',[_c('img',{attrs:{\"src\":require(\"@/assets/prototype-logo.svg\")}})]),_vm._v(\" \"),_c('h1',{staticClass:\"text--primary ml-2\"},[_vm._v(\"\\n        Contribute\\n      \")])]),_vm._v(\" \"),_c('v-card-text',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"\\n      If you are a developer with time, this project is on Github at \"),_c('a',{attrs:{\"href\":\"https://github.com/dabbler0/sing-together-again-rewrite\"}},[_vm._v(\"sing-together-again-rewrite\")]),_vm._v(\". As of right now I am still actively maintaining it and am open to Github issues or pull requests.\\n    \")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-626db78c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Contributing.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-626db78c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Contributing.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Contributing.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Contributing.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-626db78c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Contributing.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-626db78c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Contributing.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Welcome from '@/components/Welcome'\nimport Join from '@/components/Join'\nimport Create from '@/components/Create'\nimport Sing from '@/components/Sing'\nimport Calibrate from '@/components/Calibrate'\nimport About from '@/components/About'\nimport Contributing from '@/components/Contributing'\n\nVue.use(Router)\n\n// The one audiocontext everone will use\nconst context = new AudioContext()\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Welcome',\n      component: Welcome\n    },\n    {\n      path: '/about',\n      name: 'About',\n      component: About\n    },\n    {\n      path: '/contributing',\n      name: 'Contributing',\n      component: Contributing\n    },\n    {\n      path: '/join',\n      name: 'Join',\n      component: Join\n    },\n    {\n      path: '/join/:prefill',\n      name: 'JoinPrefilled',\n      component: Join\n    },\n    {\n      path: '/create',\n      name: 'Create',\n      props: {context},\n      component: Create\n    },\n    {\n      path: '/sing/:room/:user',\n      name: 'Sing',\n      props: {context},\n      component: Sing\n    },\n    {\n      path: '/calibrate/:room/:user',\n      name: 'Calibrate',\n      props: {context},\n      component: Calibrate\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    latency: 0\n  },\n  mutations: {\n    setLatency (state, latency) {\n      state.latency = latency\n    }\n  },\n  actions: {\n  },\n  getters: {\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store'\n\nimport Vuetify from 'vuetify'\nimport 'vuetify/dist/vuetify.min.css'\n\nVue.use(Vuetify)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  vuetify: new Vuetify(),\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}